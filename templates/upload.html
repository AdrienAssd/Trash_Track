<!doctype html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Upload & Annotation</title>
</head>
<body>
    <h1>Uploader une image</h1>
    <form method="POST" enctype="multipart/form-data">
        <input type="file" name="file" required>
        <button type="submit">Uploader</button>
    </form>

    <h2>Images uploadÃ©es</h2>
    <ul>
        {% for image in images %}
        <li>
            <img src="{{ image['filepath'] }}" width="150"><br>
            ID: {{ image['id'] }}<br>
            AnnotÃ©e: {{ image['annotation'] or "Non" }}<br>
            Dimensions: {{ image['width'] }}x{{ image['height'] }}<br>
            Taille: {{ image['filesize'] }}<br>
            Moy. couleur: ({{ image['avg_color_r'] }}, {{ image['avg_color_g'] }}, {{ image['avg_color_b'] }})<br>
            Contraste: {{ "%.2f"|format(image['contrast']) }}<br>

            <!-- Affichage du graphique des histogrammes -->
            <h3>Graphique des histogrammes des couleurs</h3>
            <img src="{{ image['histogram_plot'] }}" alt="Histogramme des couleurs" width="300"><br>

            <!-- Boutons dâ€™annotation -->
            <a href="{{ url_for('annotate', image_id=image['id'], annotation='Pleine') }}">Pleine</a> |
            <a href="{{ url_for('annotate', image_id=image['id'], annotation='Vide') }}">Vide</a> |

            <!-- Bouton de suppression -->
            <a href="{{ url_for('delete_image', image_id=image['id']) }}" onclick="return confirm('Supprimer cette image ?')">ðŸ—‘ Supprimer</a>
        </li>
        <hr>
        {% endfor %}
    </ul>
</body>
</html>
